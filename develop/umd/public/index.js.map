{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["let masher;\r\n\r\nconst definitionsById = {\r\n  'color': { \"id\": \"com.moviemasher.theme.color\" },\r\n  'title': { \"id\": \"com.moviemasher.theme.text\" },\r\n  'cable': {\r\n    'label': 'Cable',\r\n    'type': 'image',\r\n    'id': 'cable',\r\n    'url': 'cable.jpg'\r\n  },\r\n  'frog': {\r\n    'label': 'Frog',\r\n    'type': 'image',\r\n    'id': 'frog',\r\n    'url': 'frog.jpg'\r\n  },\r\n  'globe': {\r\n    'label': 'Globe',\r\n    'type': 'image',\r\n    'id': 'globe',\r\n    'url': 'globe.jpg'\r\n  }\r\n};\r\n\r\nfunction populateTextarea() {\r\n  if (!masher) return;\r\n  const textarea = document.getElementById('textarea');\r\n  textarea.value = JSON.stringify(masher.mash, null, '\\t');\r\n}\r\nfunction addClip(id)  {\r\n  if (!masher) return;\r\n\r\n  masher.add(definitionsById[id]);\r\n  populateTextarea();\r\n}\r\n\r\nfunction handleEventMasher(event) {\r\n  if (event.detail.type === \"duration\") {\r\n    let range = document.getElementById('range');\r\n    const value = masher.position;\r\n    range.value = value;\r\n  }\r\n}\r\nfunction handleLoadBody() {\r\n  const canvas = document.getElementById('canvas');\r\n  if (canvas && MovieMasher) {\r\n    // register a default font, since we're allowing a module that uses fonts\r\n    MovieMasher.MovieMasher.font.define({ id: \"com.moviemasher.font.default\", source: \"BlackoutTwoAM.ttf\" });\r\n    canvas.addEventListener(\"masher\", handleEventMasher);\r\n    masher = MovieMasher.MovieMasher.masher.instance({ canvas });\r\n    masher.changeMash(\"backcolor\", \"#000000FF\");\r\n    populateTextarea();\r\n    console.log(\"fucking cool:)\")\r\n  }\r\n}\r\n\r\nexport { handleLoadBody, addClip, masher }\r\n"],"names":["masher"],"mappings":";;;;;;;;AAAIA,0BAAO;AACX;EACA,MAAM,eAAe,GAAG;EACxB,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,6BAA6B,EAAE;EAClD,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,4BAA4B,EAAE;EACjD,EAAE,OAAO,EAAE;EACX,IAAI,OAAO,EAAE,OAAO;EACpB,IAAI,MAAM,EAAE,OAAO;EACnB,IAAI,IAAI,EAAE,OAAO;EACjB,IAAI,KAAK,EAAE,WAAW;EACtB,GAAG;EACH,EAAE,MAAM,EAAE;EACV,IAAI,OAAO,EAAE,MAAM;EACnB,IAAI,MAAM,EAAE,OAAO;EACnB,IAAI,IAAI,EAAE,MAAM;EAChB,IAAI,KAAK,EAAE,UAAU;EACrB,GAAG;EACH,EAAE,OAAO,EAAE;EACX,IAAI,OAAO,EAAE,OAAO;EACpB,IAAI,MAAM,EAAE,OAAO;EACnB,IAAI,IAAI,EAAE,OAAO;EACjB,IAAI,KAAK,EAAE,WAAW;EACtB,GAAG;EACH,CAAC,CAAC;AACF;EACA,SAAS,gBAAgB,GAAG;EAC5B,EAAE,IAAI,CAACA,cAAM,EAAE,OAAO;EACtB,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;EACvD,EAAE,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAACA,cAAM,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;EAC3D,CAAC;EACD,SAAS,OAAO,CAAC,EAAE,GAAG;EACtB,EAAE,IAAI,CAACA,cAAM,EAAE,OAAO;AACtB;EACA,EAAEA,cAAM,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;EAClC,EAAE,gBAAgB,EAAE,CAAC;EACrB,CAAC;AACD;EACA,SAAS,iBAAiB,CAAC,KAAK,EAAE;EAClC,EAAE,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,KAAK,UAAU,EAAE;EACxC,IAAI,IAAI,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;EACjD,IAAI,MAAM,KAAK,GAAGA,cAAM,CAAC,QAAQ,CAAC;EAClC,IAAI,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;EACxB,GAAG;EACH,CAAC;EACD,SAAS,cAAc,GAAG;EAC1B,EAAE,MAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;EACnD,EAAE,IAAI,MAAM,IAAI,WAAW,EAAE;EAC7B;EACA,IAAI,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,8BAA8B,EAAE,MAAM,EAAE,mBAAmB,EAAE,CAAC,CAAC;EAC7G,IAAI,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAC;EACzD,IAAIA,cAAM,GAAG,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;EACjE,IAAIA,cAAM,CAAC,UAAU,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;EAChD,IAAI,gBAAgB,EAAE,CAAC;EACvB,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC;EACjC,GAAG;EACH;;;;;;;;;"}